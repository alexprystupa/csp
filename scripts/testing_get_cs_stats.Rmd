---
title: "Untitled"
author: "Aleksandr Prystupa"
date: "7/18/2023"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
source("/gpfs/data/naiklab/Alex/cibersort-pipeline/csp/scripts/helper-scripts/Ciber-Sort-Automate-Barplot-Stats.R")
source("/gpfs/data/naiklab/Alex/cibersort-pipeline/csp/scripts/helper-scripts/Ciber-Sort-Barplot-Functions.R")
```

```{r}
cs_out <- read.csv("/gpfs/data/naiklab/Alex/cibersort-pipeline/cibersort-outs/cs_out_clean.csv", row.names = 1)
cs_out <- cs_out[ ,samples_groups$samples]
samples_groups <- read.csv("/gpfs/data/naiklab/Alex/cibersort-pipeline/samples.groups.csv", row.names = 1) %>% tibble::rownames_to_column("samples")
```

```{r}
bp_df <- convert.to.bp.ready.df(cs_out, samples_groups)
bp_df_list <- get.bp.subsets(bp_df)
```

```{r}
bp_df_list$CD
```

```{r}
get.bar.plot.stats(bp_df_list$Ex, comparison_col = "groups")
```




















